var nhscui={};console&&"object"==typeof console?console.info||(console.info=function(){}):console={info:function(){}};nhscui.toNHSNumber=function(a){a=(a+"").replace(/\D/g,"");return nhscui.validNHSNumber(a)?a.substr(0,3)+" "+a.substr(3,3)+" "+a.substr(6,4):"Invalid"};nhscui.validNHSNumber=function(a){a=(a+"").replace(/\D/g,"");if(10!=a.length||isNaN(a))return!1;for(var b=0,c=10;1<c;c--)b+=a[10-c]*c;return 11-b%11==a[9]};
nhscui.toPatientName=function(a,b,c){b&&"string"==typeof b||(console.info("Patient forename(s) must be provided and must be in String format."),console.info("http://systems.hscic.gov.uk/data/cui/uig/patnamedisp.pdf; section 2.1."),b="\u2013");c&&"string"==typeof c||(console.info("Patient surname(s) must be provided and must be in String format."),console.info("http://systems.hscic.gov.uk/data/cui/uig/patnamedisp.pdf; section 2.1."),c="\u2013");a=a?a:"Unspecified";c=c.toUpperCase();return c+", "+b+
" ("+a+")"};moment.locale("en",{ordinal:function(a){var b=a%10;return a+"<sup>"+(1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")+"</sup>"}});var date={};function validateDate(a){return"string"==typeof a&&"invalid date"==a.toLowerCase()?"Unknown":a}date.toShortDate=function(a,b){if("string"==typeof a){if("not recorded"==a.toLowerCase())return"Not recorded";a=a.replace("<sup>","").replace("</sup>","").replace(/th|nd|st|rd/gi,"")}return validateDate(moment(a).format((b?"ddd ":"")+"DD-MMM-YYYY"))};
date.toLongDate=function(a,b,c){if("string"==typeof a){if("not recorded"==a.toLowerCase())return"Not recorded";a=a.replace("<sup>","").replace("</sup>","").replace(/th|nd|st|rd/gi,"")}return validateDate(moment(a).format((b?"ddd ":"")+(c?"Do":"DD")+" MMMM YYYY"))};nhscui.date=date;